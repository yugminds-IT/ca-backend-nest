# ===========================================
# NestJS CAA Backend - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values.
# Do not commit .env (it should be in .gitignore).

# -------------------------------------------
# Database (required)
# -------------------------------------------
DATABASE_URL=postgres://USER:PASSWORD@HOST:PORT/DATABASE_NAME

# Optional: DB connection tuning
DB_SSL=false
DB_POOL_SIZE=20
DB_CONNECT_TIMEOUT=10
DB_STATEMENT_TIMEOUT=30

# -------------------------------------------
# JWT / Auth (required)
# -------------------------------------------
SECRET_KEY=your-secret-key-at-least-32-chars-long
# Optional: use JWT_SECRET if different from SECRET_KEY
# JWT_SECRET=your-jwt-secret

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# -------------------------------------------
# App
# -------------------------------------------
NODE_ENV=development
PORT=3000
ENVIRONMENT=development

# Optional: base64 key for encrypting stored client passwords (so they can be shown until user changes password).
# If not set, SECRET_KEY is used to derive an encryption key.
# ENCRYPTION_KEY=your-base64-32-byte-key

# Comma-separated allowed origins for CORS (e.g. http://localhost:3000,https://app.example.com)
CORS_ORIGINS=http://localhost:3000

# Used in emails (e.g. login URL, reset links)
FRONTEND_URL=http://localhost:3000

# -------------------------------------------
# SMTP (optional – emails disabled if not set)
# -------------------------------------------
SMTP_HOST=smtp.example.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=your-smtp-user
SMTP_PASS=your-smtp-password
SMTP_FROM=noreply@example.com

# -------------------------------------------
# AWS S3 (optional – file uploads need this)
# -------------------------------------------
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET_NAME=your-bucket-name

# Optional: custom S3 endpoint (e.g. MinIO, DigitalOcean Spaces)
# AWS_S3_ENDPOINT_URL=https://your-endpoint.com

# AWS_REGION is also used by S3
